[{"link_serial":127,"update_time":"2016-07-04T10:23:27.718000+00:00","phase_snode_id":null,"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","instance_id":"da4cc50f-633c-45dd-b47e-2a5f172740e7","update_user_id":"hpv@snaplogic.com","class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"52e99318640a9a03d8681d10","path_id":"/snaplogic/projects/HarishPV","create_time":"2016-07-04T08:55:41.159000+00:00","snode_id":"577a248d95315c6957da04b2","snap_map":{"36eca13f-7eb4-4216-9537-949ae9d48eda":{"instance_id":"36eca13f-7eb4-4216-9537-949ae9d48eda","class_id":"com-snaplogic-snaps-transform-csvformatter","class_build_tag":"transform1622","class_fqid":"com-snaplogic-snaps-transform-csvformatter_3-transform1622","class_version":3,"property_map":{"info":{"label":{"value":"CSV Formatter1"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"quoteMode":{"value":"ALL"},"quoteCharacter":{"value":"\""},"writeHeader":{"value":true},"charset":{"value":"UTF-8"},"ignoreEmptyStream":{"value":false},"delimiter":{"value":","},"useDefinedHeader":{"value":false}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"binary"}}}},"instance_fqid":"36eca13f-7eb4-4216-9537-949ae9d48eda_1","instance_version":1},"c5d30e5e-9b7b-44b4-8d0d-53360f215abc":{"instance_id":"c5d30e5e-9b7b-44b4-8d0d-53360f215abc","class_id":"com-snaplogic-snaps-rest-get","class_build_tag":"rest1566","class_fqid":"com-snaplogic-snaps-rest-get_2-rest1566","class_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"REST Get"}},"view_serial":100,"account":{"account_ref":{"value":{}}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"retryInterval":{"value":3},"trustAllCerts":{"value":true},"retry":{"value":5},"hasNext":{"expression":true,"value":null},"timeout":{"value":9000},"processArray":{"value":false},"nextUrl":{"expression":true,"value":null},"paginationInterval":{"value":0},"executeDuringPreview":{"value":false},"header":{"value":[{"headerKey":{"expression":false,"value":"Authorization"},"headerValue":{"expression":false,"value":"Bearer bSQmydIPdR9nhU9ST5GvZbBPa4nQnkoK"}}]},"rawData":{"value":false},"serviceUrl":{"expression":false,"value":"https://vdcagld251.ics.cloud.ge.com:8081/api/1/rest/feed/GEPowerWater/GEWater/GEWater_UserCases/Copy%20of%20Batch%20DataLoad%20Demo%20Query%20Task"},"queryParams":{"value":[{"queryParamValue":{"expression":true,"value":"$Offset"},"queryParam":{"value":"offset"}},{"queryParamValue":{"expression":true,"value":"$BatchSize"},"queryParam":{"value":"limit"}}]}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"continue"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"instance_fqid":"c5d30e5e-9b7b-44b4-8d0d-53360f215abc_1","instance_version":1},"5674bec1-3cd1-4062-b7b8-03a1d4d13d97":{"instance_id":"5674bec1-3cd1-4062-b7b8-03a1d4d13d97","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"transform1622","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-transform1622","class_version":4,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Mapper"}},"view_serial":101,"input":{"input101":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"$totalcnt"},"targetPath":{"value":"$TotalCnt"}},{"expression":{"expression":true,"value":"parseInt(_BatchSize)"},"targetPath":{"value":"$BatchSize"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"instance_fqid":"5674bec1-3cd1-4062-b7b8-03a1d4d13d97_8","instance_version":8},"e9793242-ec6c-42dd-929e-a2e99beecb72":{"instance_id":"e9793242-ec6c-42dd-929e-a2e99beecb72","class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"binary1563","class_fqid":"com-snaplogic-snaps-binary-write_3-binary1563","class_version":3,"property_map":{"info":{"notes":{"value":null},"label":{"value":"File Writer1"}},"view_serial":100,"account":{"account_ref":{"value":{}}},"settings":{"writeHeader":{"value":true},"executable_during_suggest":{"value":false},"filename":{"expression":false,"value":"VWtoRS_Main_error.csv"},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"APPEND"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"binary"}}}},"instance_fqid":"e9793242-ec6c-42dd-929e-a2e99beecb72_1","instance_version":1},"345e3cdf-64fd-48ca-91a0-eafb63394b7b":{"instance_id":"345e3cdf-64fd-48ca-91a0-eafb63394b7b","class_id":"com-snaplogic-snaps-transform-jsongenerator","class_build_tag":"transform1622","class_fqid":"com-snaplogic-snaps-transform-jsongenerator_2-transform1622","instance_version":9,"property_map":{"info":{"notes":{"value":null},"label":{"value":"JSON Generator"}},"view_serial":100,"settings":{"editable_content":{"value":"[{\"totalcnt\":1000000},{\"totalcnt\":1000000}]"},"arrayElementsAsDocuments":{"value":false}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}}},"class_version":2,"instance_fqid":"345e3cdf-64fd-48ca-91a0-eafb63394b7b_9"},"b8433a21-f1c1-43b1-aff8-277a8ff107b7":{"instance_version":2,"class_id":"com-snaplogic-snaps-transform-jsongenerator","class_build_tag":"transform1622","class_fqid":"com-snaplogic-snaps-transform-jsongenerator_2-transform1622","instance_id":"b8433a21-f1c1-43b1-aff8-277a8ff107b7","property_map":{"info":{"notes":{"value":null},"label":{"value":"JSON Generator1"}},"view_serial":100,"settings":{"editable_content":{"value":"## Enter your JSON-encoded data in this space.  Note that this text is\n## treated as an Apache Velocity template, so you can substitute values\n## from input documents or the pipeline parameters.  See the following\n## URL for more information about Velocity:\n##   https://velocity.apache.org/engine/devel/user-guide.html\n\n[\n    {\n       \"msg\" : \"Hello, World\", \"num\" : 1\n    }\n]\n\n\n## Tips:\n##  * The sample data above will generate a single empty document, uncomment\n##    the line in the middle to include the sample fields.  Adding more\n##    objects to the root array will cause the snap to generate more\n##    than one document.\n##  * Pipeline parameters can be referenced by prefixing the parameter\n##    name with an underscore, like so:\n##      ${_pipelineParamName}\n##  * If you add an input view to the snap, this template will be\n##    evaluated for each input document.\n##  * Fields in the input documents can be referenced by prefixing them\n##    with a dollar-sign ($), like so:\n##      $parent.child[0].value\n##  * Any referenced document values and pipeline parameters will\n##    automatically be JSON-encoded when they are inserted into the final\n##    JSON document.  You should not have to worry about escaping values\n##    yourself.\n##  * If you are having troubles getting a template to produce valid JSON,\n##    you can add an error view to the snap to get a document that\n##    contains the output of the template evaluation."},"arrayElementsAsDocuments":{"value":true}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}}},"class_version":2,"instance_fqid":"b8433a21-f1c1-43b1-aff8-277a8ff107b7_2"},"46773320-e327-46e3-975e-c5e3f150f5ed":{"instance_id":"46773320-e327-46e3-975e-c5e3f150f5ed","class_id":"com-snaplogic-snaps-script-script","class_build_tag":"snapsmrc344","class_fqid":"com-snaplogic-snaps-script-script_2-snapsmrc344","class_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Script"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"editable_content":{"value":"// Ensure compatibility with both JDK 7 and 8 JSR-223 Script Engines\ntry { load(\"nashorn:mozilla_compat.js\"); } catch(e) { }\n\n// Import the interface required by the Script snap.\nimportPackage(com.snaplogic.scripting.language);\n\n// Import the Java utility classes.\nimportPackage(java.util);\n\n/**\n * Create an object that implements the methods defined by the \"ScriptHook\"\n * interface.  We'll be passing this object to the constructor for the\n * ScriptHook interface.\n */\nvar impl = {\n    /*\n     * These variables (input, output, error, log) are defined by the\n     * ExecuteScript snap when evaluating this script.\n     */\n    input : input,\n    output : output,\n    error : error,\n    log : log,\n\n    /**\n     * The \"execute()\" method is called once when the pipeline is started\n     * and allowed to process its inputs or just send data to its outputs.\n     *\n     * Exceptions are automatically caught and sent to the error view.\n     */\n    execute : function () {\n       this.log.info(\"Executing Transform Script\");\n        while (this.input.hasNext()) {\n            try{\n                // Read the next document, wrap it in a map and write out the wrapper\n                var doc = this.input.next();\n                var i = 0;\n                var toalcnt = doc.TotalCnt;\n                var batchsize = doc.BatchSize;\n                while (i < toalcnt) {\n                var wrapper = new java.util.HashMap();\n                wrapper.put(\"Offset\",i+1 );\n                 wrapper.put(\"BatchSize\", batchsize);\n                this.output.write(doc, wrapper);\n                this.log.info(\"Transform Script finished\");\n                 i = i+batchsize;\n                }\n                this.log.info(\"Transform Script finished\");\n               \n            }\n            catch(err) {\n                var wrapper = new java.util.HashMap();\n                wrapper.put(\"errorMsg\", err);\n                this.log.error(err);\n                this.error.write(wrapper);\n            }\n        }\n    }\n};\n\n/**\n * The Script Snap will look for a ScriptHook object in the \"hook\"\n * variable.  The snap will then call the hook's \"execute\" method.\n */\nvar hook = new com.snaplogic.scripting.language.ScriptHook(impl);"},"executable_during_suggest":{"value":true},"language":{"value":"Javascript"},"script":{"expression":false,"value":null}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"instance_fqid":"46773320-e327-46e3-975e-c5e3f150f5ed_1","instance_version":1},"3bbe52fb-4464-4261-853b-9b57d3401f72":{"instance_version":1,"class_id":"com-snaplogic-snaps-testsnap-docsort","class_build_tag":"0002","class_fqid":"com-snaplogic-snaps-testsnap-docsort_1-0002","instance_id":"3bbe52fb-4464-4261-853b-9b57d3401f72","property_map":{"info":{"label":{"value":"Document Sort"}},"view_serial":100,"input":{"input_0":{"label":{"value":"input_0"},"view_type":{"value":"document"}}},"settings":{},"error":{"error_behavior":{"value":"fail"},"error_0":{"label":{"value":"error_0"},"view_type":{"value":"document"}}},"output":{"output_0":{"label":{"value":"output_0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"3bbe52fb-4464-4261-853b-9b57d3401f72_1"}},"org_snode_id":"52e99318640a9a03d8681d0d","path":"/snaplogic/projects/HarishPV/Copy of Batch Dataload Demo Main","instance_version":30,"migrate_version":"mrc260","scrub_backup":[],"_id":"da4cc50f-633c-45dd-b47e-2a5f172740e7","create_user_id":"hpv@snaplogic.com","project_snode_id":"5763bccf95315c69540c7463","property_map":{"info":{"notes":{"value":null},"author":{"value":"hpv@snaplogic.com"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{"value":"Copy of Batch Dataload Demo Main"}},"input":{"46773320-e327-46e3-975e-c5e3f150f5ed_input0":{"label":{"value":"Script - input0"},"view_type":{"value":"document"}}},"settings":{"param_table":{"value":[{"value":{"value":"2500"},"key":{"value":"BatchSize"}}]}},"instance_version":29,"error":{"error_behavior":{"value":"none"}},"output":{"c5d30e5e-9b7b-44b4-8d0d-53360f215abc_output0":{"label":{"value":"REST Get - output0"},"view_type":{"value":"document"}},"46773320-e327-46e3-975e-c5e3f150f5ed_output0":{"label":{"value":"Script - output0"},"view_type":{"value":"document"}},"b8433a21-f1c1-43b1-aff8-277a8ff107b7_output0":{"label":{"value":"JSON Generator1 - output0"},"view_type":{"value":"document"}}}},"render_map":{"pan_x_num":0,"default_snaplex":"56da0c9ca415f55db09a29cb","scale_ratio":1,"detail_map":{"36eca13f-7eb4-4216-9537-949ae9d48eda":{"grid_x_int":6,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"c5d30e5e-9b7b-44b4-8d0d-53360f215abc":{"grid_x_int":5,"output":{},"grid_y_int":4,"rot_tail_int":0,"error":{"error0":{"dx_int":0,"rot_int":0,"dy_int":-1}},"input":{},"rot_int":0},"5674bec1-3cd1-4062-b7b8-03a1d4d13d97":{"grid_x_int":3,"rot_int":0,"grid_y_int":4,"rot_tail_int":0},"e9793242-ec6c-42dd-929e-a2e99beecb72":{"grid_x_int":7,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"345e3cdf-64fd-48ca-91a0-eafb63394b7b":{"grid_x_int":2,"rot_int":0,"grid_y_int":4,"rot_tail_int":0},"b8433a21-f1c1-43b1-aff8-277a8ff107b7":{"grid_x_int":2,"rot_int":0,"grid_y_int":1,"rot_tail_int":0},"46773320-e327-46e3-975e-c5e3f150f5ed":{"grid_x_int":9,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"3bbe52fb-4464-4261-853b-9b57d3401f72":{"grid_x_int":4,"grid_y_int":4,"rot_tail_int":0,"output":{},"input":{},"rot_int":0}},"pan_y_num":0},"org_id":"52e99318640a9a03d8681d0d","class_version":8,"class_id":"com-snaplogic-pipeline","instance_fqid":"da4cc50f-633c-45dd-b47e-2a5f172740e7_30","link_map":{"link125":{"src_view_id":"output_0","dst_view_id":"input0","src_id":"3bbe52fb-4464-4261-853b-9b57d3401f72","dst_id":"c5d30e5e-9b7b-44b4-8d0d-53360f215abc"},"link126":{"src_view_id":"output0","dst_view_id":"input_0","src_id":"5674bec1-3cd1-4062-b7b8-03a1d4d13d97","dst_id":"3bbe52fb-4464-4261-853b-9b57d3401f72"},"link116":{"src_view_id":"error0","dst_view_id":"input0","src_id":"c5d30e5e-9b7b-44b4-8d0d-53360f215abc","dst_id":"36eca13f-7eb4-4216-9537-949ae9d48eda"},"link117":{"src_view_id":"output0","dst_view_id":"input0","src_id":"36eca13f-7eb4-4216-9537-949ae9d48eda","dst_id":"e9793242-ec6c-42dd-929e-a2e99beecb72"},"link118":{"src_view_id":"output0","dst_view_id":"input101","src_id":"345e3cdf-64fd-48ca-91a0-eafb63394b7b","dst_id":"5674bec1-3cd1-4062-b7b8-03a1d4d13d97"}}}]