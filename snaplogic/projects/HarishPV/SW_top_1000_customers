[{"link_serial":128,"update_time":"2016-08-17T10:06:26.368000+00:00","phase_snode_id":null,"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","instance_id":"ce0513df-6a9f-465b-8ca3-efc52b20b8b9","update_user_id":"hpv@snaplogic.com","class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"52e99318640a9a03d8681d10","path_id":"/snaplogic/projects/HarishPV","create_time":"2016-08-16T09:04:09.884000+00:00","snode_id":"57b2d70949eb066575db4e9d","snap_map":{"05026d91-12cb-49b0-a028-26e0eccb774d":{"instance_id":"05026d91-12cb-49b0-a028-26e0eccb774d","class_id":"com-snaplogic-snaps-rest-get","class_build_tag":"snapsmrc298","class_fqid":"com-snaplogic-snaps-rest-get_2-snapsmrc298","class_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"REST Get"}},"view_serial":103,"account":{"account_ref":{"value":{"label":{"value":"Trustaccount"},"ref_class_id":{"value":"com-snaplogic-snaps-rest-restbasicauthaccount"},"ref_id":{"value":"ad5c754e-6c97-431c-ace2-0678cd136e74"}}}},"settings":{"retryInterval":{"value":3},"trustAllCerts":{"value":false},"retry":{"value":5},"hasNext":{"expression":false,"value":null},"serviceUrl":{"expression":true,"value":"\"https://elastic.snaplogic.com/api/2/52e99128640a9a03d920497f/rest/insights/org?start_ts=\" + Date.now().minusHours(24).getTime() + \"\\&end_ts=\" + Date.now().getTime() + \"\\&overview=true\""},"processArray":{"value":false},"nextUrl":{"expression":false,"value":null},"header":{"value":[]},"rawData":{"value":false},"timeout":{"value":900},"queryParams":{"value":[]}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"instance_fqid":"05026d91-12cb-49b0-a028-26e0eccb774d_1","instance_version":1},"006ac583-84c2-432e-80f9-7d0a416a6b74":{"instance_id":"006ac583-84c2-432e-80f9-7d0a416a6b74","class_id":"com-snaplogic-snaps-flow-head","class_build_tag":"flow373","class_fqid":"com-snaplogic-snaps-flow-head_1-flow373","class_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Head"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"numberOfDocs":{"value":1000},"offset":{"value":0}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"instance_fqid":"006ac583-84c2-432e-80f9-7d0a416a6b74_3","instance_version":3},"645b2cf1-fb0a-4017-82d8-2f99d51ede7e":{"instance_id":"645b2cf1-fb0a-4017-82d8-2f99d51ede7e","class_id":"com-snaplogic-snaps-transform-jsonsplitter","class_build_tag":"transform382","class_fqid":"com-snaplogic-snaps-transform-jsonsplitter_1-transform382","class_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"JSON Splitter"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"includeParents":{"value":true},"includePaths":{"value":[]},"path":{"value":"$entity.response_map"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"instance_fqid":"645b2cf1-fb0a-4017-82d8-2f99d51ede7e_1","instance_version":1},"d442b6cf-14b3-4112-ad85-48ac9dce6cf9":{"instance_id":"d442b6cf-14b3-4112-ad85-48ac9dce6cf9","class_id":"com-snaplogic-snaps-transform-sort","class_build_tag":"transform382","class_fqid":"com-snaplogic-snaps-transform-sort_2-transform382","class_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Sort"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"sortPaths":{"value":[{"sortPath":{"value":"$pipeline_run"}}]},"sortOrder":{"value":"descending"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"instance_fqid":"d442b6cf-14b3-4112-ad85-48ac9dce6cf9_1","instance_version":1},"d347ea50-fca2-4090-96f1-1623ab4b5cb6":{"instance_id":"d347ea50-fca2-4090-96f1-1623ab4b5cb6","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"transform504","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-transform504","class_version":4,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Mapper (Data)"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"Date.now().toLocaleDateString('{\\\"timeZone\\\":\\\"PST\\\", \"format\":\"yyyy-MM-dd\"}')"},"targetPath":{"value":"$EXECUTION_DATE"}},{"expression":{"expression":true,"value":"Date.now().toLocaleTimeString('{\\\"timeZone\\\":\\\"PST\\\", \"format\":\"HH:mm:ss\"}')"},"targetPath":{"value":"$EXECUTION_TIME"}},{"expression":{"expression":true,"value":"Date.now().minusDays(1).toLocaleDateString('{\\\"timeZone\\\":\\\"PST\\\", \"format\":\"yyyy-MM-dd\"}')"},"targetPath":{"value":"$EFFECTIVE_DATE"}},{"expression":{"expression":true,"value":"$name"},"targetPath":{"value":"$CUSTOMERS"}},{"expression":{"expression":true,"value":"$active_pipeline"},"targetPath":{"value":"$UNIQUE_PIPELINES"}},{"expression":{"expression":true,"value":"$active_user"},"targetPath":{"value":"$UNIQUE_USERS"}},{"expression":{"expression":true,"value":"$active_snap"},"targetPath":{"value":"$UNIQUE_SNAPS"}},{"expression":{"expression":true,"value":"$active_job"},"targetPath":{"value":"$UNIQUE_TASKS"}},{"expression":{"expression":true,"value":"$active_plex"},"targetPath":{"value":"$UNIQUE_SNAPLEXES"}},{"expression":{"expression":true,"value":"$pipeline_run"},"targetPath":{"value":"$TOTAL_PIPELINE_RUNS"}},{"expression":{"expression":true,"value":"$document"},"targetPath":{"value":"$DOCUMENTS"}},{"expression":{"expression":true,"value":"$daily_call_counter"},"targetPath":{"value":"$TOTAL_API_COUNTS"}},{"expression":{"expression":true,"value":"$calls_in_progress"},"targetPath":{"value":"$CONCURRENT_API_LIMIT"}},{"expression":{"expression":true,"value":"$file"},"targetPath":{"value":"$FILES"}},{"expression":{"expression":true,"value":"$project"},"targetPath":{"value":"$PROJECTS"}},{"expression":{"expression":true,"value":"$account"},"targetPath":{"value":"$ACCOUNTS"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"instance_fqid":"d347ea50-fca2-4090-96f1-1623ab4b5cb6_3","instance_version":3},"ef456328-c417-4cee-a64d-73f1fc2eb93e":{"instance_id":"ef456328-c417-4cee-a64d-73f1fc2eb93e","class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc362","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc362","instance_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"File Writer"}},"view_serial":101,"account":{"account_ref":{"value":{}}},"settings":{"createDir":{"value":false},"writeHeader":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":false,"value":"SW_Daily_insert.xls"},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"output":{"output101":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"ef456328-c417-4cee-a64d-73f1fc2eb93e_2"},"a69ddea4-9bbe-43af-b4a1-a7635ff6fade":{"instance_version":12,"class_id":"com-snaplogic-snaps-email-emailsender","class_build_tag":"snapsmrc362","class_fqid":"com-snaplogic-snaps-email-emailsender_2-snapsmrc362","instance_id":"a69ddea4-9bbe-43af-b4a1-a7635ff6fade","property_map":{"info":{"notes":{"value":null},"label":{"value":"Email Sender"}},"view_serial":101,"account":{"account_ref":{"value":{"label":{"value":"Snaplogic.integration@outlook.com Sender"},"ref_class_id":{"value":"com-snaplogic-snaps-email-smtpaccount"},"ref_id":{"value":"c7846b84-f01e-47d9-a4eb-b2d051f44b51"}}}},"settings":{"body":{"expression":false,"value":"<!DOCTYPE html>\n<html>\n<head>\n<title>Snaplogic Usage Report or each customer</title>\n</head>\n<body>\n\n<h1 style=\"color:purple;\">Daily Customer Snaplogic Usage Report</h1>\n<p>Hi,</p>\n<p>Please find attached usage report of <b>SnapLogic</b> for each customer</p>\n\n<p>Regards,</p>\n<h4 style=\"color:purple;\">SnapLogic</h4>\n\n</body>\n</html>"},"retries":{"value":3},"from":{"expression":false,"value":"no-reply-daily-alert@snaplogic.com"},"attachments":{"value":[{"url":{"expression":false,"value":"SW_Daily_insert.xls"}}]},"cc":{"expression":false,"value":"lkummari@snaplogic.com,hpv@snaplogic.com"},"emailType":{"value":"HTML text"},"batchSize":{"value":100},"executable_during_suggest":{"value":false},"bcc":{"expression":false,"value":null},"to":{"expression":false,"value":"pnarayan@snaplogic.com"},"tableDataPath":{"value":null},"passThrough":{"value":false},"subject":{"expression":true,"value":"'Snaplogic Usage Report for each Customer'+ LocalDate.parse(Date.now().toLocaleDateString('{\"timeZone\":\"US/Pacific\"}'))"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"input":{"input101":{"label":{"value":"input0"},"view_type":{"value":"document"}}}},"class_version":2,"instance_fqid":"a69ddea4-9bbe-43af-b4a1-a7635ff6fade_12"},"300d67f5-ed42-47e8-8255-5bf68f86b1ce":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-excelformatter","class_build_tag":"snapsmrc362","class_fqid":"com-snaplogic-snaps-transform-excelformatter_3-snapsmrc362","instance_id":"300d67f5-ed42-47e8-8255-5bf68f86b1ce","property_map":{"info":{"label":{"value":"Excel Formatter"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"writeHeaderProp":{"value":true},"ignoreEmptyStream":{"value":false},"convertNumericString":{"value":true}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"300d67f5-ed42-47e8-8255-5bf68f86b1ce_1"}},"org_snode_id":"52e99318640a9a03d8681d0d","path":"/snaplogic/projects/HarishPV/SW_top_1000_customers","instance_version":30,"migrate_version":"mrc260","scrub_backup":[],"create_user_id":"hpv@snaplogic.com","project_snode_id":"5763bccf95315c69540c7463","property_map":{"info":{"notes":{"value":null},"author":{"value":"hpv@snaplogic.com"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{"value":"SW_top_1000_customers"}},"input":{},"settings":{"param_table":{"value":[]}},"instance_version":29,"error":{"error_behavior":{"value":"none"}},"output":{}},"render_map":{"pan_x_num":0,"default_snaplex":"52e99449640a9a03d8682304","scale_ratio":1,"detail_map":{"05026d91-12cb-49b0-a028-26e0eccb774d":{"grid_x_int":1,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"006ac583-84c2-432e-80f9-7d0a416a6b74":{"grid_x_int":4,"rot_int":0,"grid_y_int":1,"rot_tail_int":0},"645b2cf1-fb0a-4017-82d8-2f99d51ede7e":{"grid_x_int":2,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"d442b6cf-14b3-4112-ad85-48ac9dce6cf9":{"grid_x_int":3,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"d347ea50-fca2-4090-96f1-1623ab4b5cb6":{"grid_x_int":5,"rot_int":0,"grid_y_int":1,"rot_tail_int":0},"a69ddea4-9bbe-43af-b4a1-a7635ff6fade":{"grid_x_int":8,"rot_int":0,"grid_y_int":1,"rot_tail_int":0},"ef456328-c417-4cee-a64d-73f1fc2eb93e":{"grid_x_int":7,"rot_int":0,"grid_y_int":1,"rot_tail_int":0},"300d67f5-ed42-47e8-8255-5bf68f86b1ce":{"grid_x_int":6,"grid_y_int":1,"rot_tail_int":0,"output":{},"input":{},"rot_int":0}},"pan_y_num":0},"org_id":"52e99318640a9a03d8681d0d","class_version":8,"class_id":"com-snaplogic-pipeline","instance_fqid":"ce0513df-6a9f-465b-8ca3-efc52b20b8b9_30","link_map":{"link111":{"src_view_id":"output0","dst_view_id":"input0","src_id":"645b2cf1-fb0a-4017-82d8-2f99d51ede7e","dst_id":"d442b6cf-14b3-4112-ad85-48ac9dce6cf9"},"link125":{"src_view_id":"output0","dst_view_id":"input0","src_id":"300d67f5-ed42-47e8-8255-5bf68f86b1ce","dst_id":"ef456328-c417-4cee-a64d-73f1fc2eb93e"},"link126":{"src_view_id":"output0","dst_view_id":"input0","src_id":"d347ea50-fca2-4090-96f1-1623ab4b5cb6","dst_id":"300d67f5-ed42-47e8-8255-5bf68f86b1ce"},"link112":{"src_view_id":"output0","dst_view_id":"input0","src_id":"006ac583-84c2-432e-80f9-7d0a416a6b74","dst_id":"d347ea50-fca2-4090-96f1-1623ab4b5cb6"},"link122":{"src_view_id":"output101","dst_view_id":"input0","src_id":"05026d91-12cb-49b0-a028-26e0eccb774d","dst_id":"645b2cf1-fb0a-4017-82d8-2f99d51ede7e"},"link118":{"src_view_id":"output0","dst_view_id":"input0","src_id":"d442b6cf-14b3-4112-ad85-48ac9dce6cf9","dst_id":"006ac583-84c2-432e-80f9-7d0a416a6b74"},"link127":{"src_view_id":"output101","dst_view_id":"input101","src_id":"ef456328-c417-4cee-a64d-73f1fc2eb93e","dst_id":"a69ddea4-9bbe-43af-b4a1-a7635ff6fade"}}}]